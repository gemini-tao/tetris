{"version":3,"sources":["containers/style.module.scss","components/Keyboard/style.module.scss","store/types/index.ts","locales/index.ts","store/actions/index.ts","utils/index.ts","components/Pixel/index.tsx","components/Matrix.tsx","constants/block.ts","components/Screen/Decorate.tsx","components/Screen/index.tsx","components/Keyboard/MyButton.tsx","components/Keyboard/index.tsx","containers/index.tsx","utils/serviceWorker.ts","store/reducers/matrix.ts","store/reducers/keybord.ts","store/reducers/index.ts","store/reducers/locales.ts","store/reducers/windowWidth.ts","store/sagas/index.ts","store/index.ts","index.tsx","components/Pixel/style.module.scss","components/Screen/style.module.scss"],"names":["module","exports","app","fadeIn","loading","fadeOut","keyboard","content","keyPause","keySound","keyReset","keyDrop","keyRotate","keyLeft","keyRight","keyDown","keyDecorate","keyDecorateCenter","keyDecorateItem","myButton","button","active","title","Types","LOCALES","en-US","require","zh-CN","value","type","KEY_PAUSE","payload","KEY_SOUND","KEY_RESET","KEY_DROP","KEY_ROTATE","KEY_LEFT","KEY_RIGHT","KEY_DOWN","isMobile","test","navigator","userAgent","Pixel","nextProps","_this$props","this","props","highlight","x","y","width","hide","_this$props2","fillColor","style","fillHighlight","fillDefault","strokeColor","strokeHighlight","strokeDefault","isHide","react_default","a","createElement","react","react_responsive_default","maxWidth","opacity","height","strokeWidth","fillOpacity","className","minWidth","Component","defaultProps","Matrix","matrix","hideBlankPixel","pixelWidth","length","console","log","map","row","i","b","j","components_Pixel","key","concat","BLOCK_DECORATE","BLOCK_DECORATE_REVERSE","reduce","arr","item","_item","Object","slicedToArray","f","s","push","Decorate","$ref_Left","React","createRef","state","w","calcWidth","_this","current","setState","clientWidth","window","addEventListener","nextState","styles","decorate","logo","intl","get","left","ref","components_Matrix","right","dotWrapper","dotsLeft","dot","dotsRight","Screen","$ref_Panl","wrapper","Decorate_Decorate","center","screenWrapper","screen","mainPanel","Button","classNames","textDirection","touchStartHandler","touchEndtHandler","cn","flexDirection","defineProperty","onTouchStart","onTouchEnd","onMouseDown","onMouseUp","textAlign","keyCode","Keyboard","$ref_keyboard","calcWrapperPosition","dom","top","getBoundingClientRect","winHeight","document","documentElement","clientHeight","minHeight","event","keyboardHandler","_this2","lastKey","opera","_this3","setTimeout","registerPressEventHandler","removeEventListener","nKeyboard","down","drop","pause","reset","rotate","sound","_this4","keys","MyButton","toLowerCase","replace","L","toUpperCase","transform","App","initLocales","switchLocales","locales","updateLocales","location","href","origin","pathname","action","dispatch","str","init","currentLocale","lang","name","reg","RegExp","r","search","substr","match","decodeURIComponent","getUrlParam","hasOwnProperty","loadLocales","components_Screen","components_Keyboard","react_loading_default","PureComponent","connect","window_width","keybord","UPDATE_LOCALES","updateWindowWidth","num","WINDOW_RESIZE","updateMatrix","UPDATE_MATRIX","isFirst","isLocalhost","Boolean","hostname","registerValidSW","swUrl","config","serviceWorker","register","then","registration","waiting","onUpdate","onupdatefound","installingWorker","installing","onstatechange","controller","onSuccess","catch","error","reload","initState","Array","fill","combineReducers","arguments","undefined","types","objectSpread","incrementAsync","fetchData","watchIncrementAsync","demo1","demo","rootSaga","regenerator_default","wrap","_context","prev","next","delay","put","ADD_COUNT","stop","_marked","fn","Promise","resolve","reject","greeting","task","_context2","call","sent","fork","_marked2","_context3","takeEvery","ADD_COUNT_ASYNC","_marked3","_context4","_marked4","_context5","_marked5","_context6","_marked6","composeEnhancers","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","compose","persistConfig","storage","version","persistedReducer","persistReducer","rootReducer","sagaMiddleware","createSagaMiddleware","configStore","store","createStore","applyMiddleware","persistor","persistStore","run","configureStore","ReactDOM","render","es","integration_react","containers","getElementById","URL","process","fetch","response","contentType","headers","status","indexOf","ready","unregister","checkValidServiceWorker","confirm","postMessage","e","statusPanel"],"mappings":"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","file":"static/js/main.fc2b665f.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"app\":\"style_app__fpm7_\",\"fadeIn\":\"style_fadeIn__pDuBt\",\"loading\":\"style_loading__1NkB6\",\"fadeOut\":\"style_fadeOut__1e9on\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"keyboard\":\"style_keyboard__1v-r5\",\"content\":\"style_content__1BW-Q\",\"keyPause\":\"style_keyPause__3Sz84\",\"keySound\":\"style_keySound__30TSm\",\"keyReset\":\"style_keyReset__2mCCK\",\"keyDrop\":\"style_keyDrop__3quUG\",\"keyRotate\":\"style_keyRotate__2-F7n\",\"keyLeft\":\"style_keyLeft__2Gg1P\",\"keyRight\":\"style_keyRight__2ALkh\",\"keyDown\":\"style_keyDown__3jdTU\",\"keyDecorate\":\"style_keyDecorate__1mLBC\",\"keyDecorateCenter\":\"style_keyDecorateCenter__3Ou07\",\"keyDecorateItem\":\"style_keyDecorateItem__1JRU2\",\"myButton\":\"style_myButton__1fTIZ\",\"button\":\"style_button__1_mma\",\"active\":\"style_active__3or7W\",\"title\":\"style_title__3a9Qg\"};","/*\n * @Author: lifan\n * @Date: 2018-12-12 13:31:05\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-08 13:33:55\n */\n\n/* eslint-disable no-unused-vars */\nenum Types {\n  ADD_COUNT = 'ADD_COUNT',\n  ADD_COUNT_ASYNC = 'ADD_COUNT_ASYNC',\n  REDUCE_COUNT = 'REDUCE_COUNT',\n  WINDOW_RESIZE = 'WINDOW_RESIZE',\n  UPDATE_LOCALES = 'UPDATE_LOCALES',\n  GAME_OVER = 'GAME_OVER', // 游戏结束\n  PAUSE = 'PAUSE', // 暂停\n  START = 'START', // 开始\n  RESTART = 'RESTART', // 重新开始\n  RORATE = 'RORATE', // 旋转\n  SET_SPEED = 'SET_SPEED', // 设置速度\n  SET_DEFAULT_LINES = 'SET_DEFAULT_LINES', // 设置初始行数\n  UPDATE_MATRIX = 'UPDATE_MATRIX', // 更新矩阵\n  KEY_PAUSE = 'KEY_PAUSE', // 暂停\n  KEY_SOUND = 'KEY_SOUND', // 音效\n  KEY_RESET = 'KEY_RESET', // 重玩\n  KEY_DROP = 'KEY_DROP', // 掉落\n  KEY_ROTATE = 'KEY_ROTATE', // 旋转\n  KEY_LEFT = 'KEY_LEFT', // 左移\n  KEY_RIGHT = 'KEY_RIGHT', // 右移\n  KEY_DOWN = 'KEY_DOWN', // 下移\n}\n\nexport default Types;\n","/*\n * @Author: lifan\n * @Date: 2018-12-14 10:16:11\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-08 14:14:12\n */\nexport const LOCALES = {\n  'en-US': require('./en-US.json'),\n  'zh-CN': require('./zh-CN.json'),\n};\n","/*\n * @Author: lifan\n * @Date: 2018-12-12 14:50:48\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-08 13:44:22\n */\nimport Types from '../types';\n\n/* eslint-disable no-use-before-define */\nexport type AddCount = ReturnType<typeof addCount>;\nexport const addCount = (num: number) => ({\n  type: <Types.ADD_COUNT>Types.ADD_COUNT,\n  payload: {\n    num\n  }\n});\n\nexport type AddCountAsync = ReturnType<typeof addCountAsync>;\nexport const addCountAsync = () => ({\n  type: <Types.ADD_COUNT_ASYNC>Types.ADD_COUNT_ASYNC,\n});\n\nexport type ReduceCount = ReturnType<typeof reduceCount>;\nexport const reduceCount = (num: number) => ({\n  type: <Types.REDUCE_COUNT>Types.REDUCE_COUNT,\n  payload: {\n    num\n  }\n});\n\nexport type UpdateLocales = ReturnType<typeof updateLocales>;\nexport const updateLocales = (locales: GameLocales) => ({\n  type: <Types.UPDATE_LOCALES>Types.UPDATE_LOCALES,\n  payload: {\n    locales\n  }\n});\n\nexport type UpdateMatrix = ReturnType<typeof updateMatrix>;\nexport const updateMatrix = (matrix: number[][]) => ({\n  type: <Types.UPDATE_MATRIX>Types.UPDATE_MATRIX,\n  payload: {\n    matrix\n  }\n});\n\nexport type WindowResize = ReturnType<typeof windowResize>;\nexport const windowResize = (width: number) => ({\n  type: <Types.WINDOW_RESIZE>Types.WINDOW_RESIZE,\n  payload: {\n    width\n  }\n});\n\nexport type KeyPause = ReturnType<typeof keyPause>;\nexport const keyPause = (value: boolean) => ({\n  type: <Types.KEY_PAUSE>Types.KEY_PAUSE,\n  payload: value\n});\n\nexport type KeySound = ReturnType<typeof keySound>;\nexport const keySound = (value: boolean) => ({\n  type: <Types.KEY_SOUND>Types.KEY_SOUND,\n  payload: value\n});\n\nexport type KeyReset = ReturnType<typeof keyReset>;\nexport const keyReset = (value: boolean) => ({\n  type: <Types.KEY_RESET>Types.KEY_RESET,\n  payload: value\n});\n\nexport type KeyDrop = ReturnType<typeof keyDrop>;\nexport const keyDrop = (value: boolean) => ({\n  type: <Types.KEY_DROP>Types.KEY_DROP,\n  payload: value\n});\n\nexport type KeyRotate = ReturnType<typeof keyRotate>;\nexport const keyRotate = (value: boolean) => ({\n  type: <Types.KEY_ROTATE>Types.KEY_ROTATE,\n  payload: value\n});\n\nexport type KeyLeft = ReturnType<typeof keyLeft>;\nexport const keyLeft = (value: boolean) => ({\n  type: <Types.KEY_LEFT>Types.KEY_LEFT,\n  payload: value\n});\n\nexport type KeyRight = ReturnType<typeof keyRight>;\nexport const keyRight = (value: boolean) => ({\n  type: <Types.KEY_RIGHT>Types.KEY_RIGHT,\n  payload: value\n});\n\nexport type KeyDown = ReturnType<typeof keyDown>;\nexport const keyDown = (value: boolean) => ({\n  type: <Types.KEY_DOWN>Types.KEY_DOWN,\n  payload: value\n});\n\nexport type Action =\n  | AddCount\n  | AddCountAsync\n  | ReduceCount\n  | UpdateLocales\n  | UpdateMatrix\n  | WindowResize\n  | KeyPause\n  | KeyDown\n  | KeyRight\n  | KeyLeft\n  | KeyRotate\n  | KeyDrop\n  | KeyReset\n  | KeySound;\n","/*\n * @Author: lifan\n * @Date: 2018-12-13 13:36:59\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-21 12:51:50\n */\n\n/**\n * 判断是否为移动端\n */\nexport const isMobile = (): boolean =>\n  /(iPhone|iPad|iPod|iOS|Android)/i.test(navigator.userAgent);\n\n/**\n * 获取url参数\n * @param {string} name\n */\nexport const getUrlParam = (name: string) => {\n  const reg = new RegExp(`(^|&)${name}=([^&]*)(&|$)`);\n  const r = window.location.search.substr(1).match(reg);\n\n  if (r != null) {\n    return decodeURIComponent(r[2]);\n  }\n\n  return;\n};\n\n/**\n * 比较matrix是否相等\n * @param {number[][]} prevMatrix 先前的matrix\n * @param {number[][]} matrix 当前的matrix\n */\nexport const compareMatrix = (prevMatrix: number[][], matrix: number[][]) => {\n  for (let i = 0; i < prevMatrix.length; i++) {\n    for (let j = 0; j < prevMatrix[i].length; j++) {\n      if (prevMatrix[i][j] !== matrix[i][j]) {\n        return false;\n      }\n    }\n  }\n\n  return true;\n};\n","/*\n * @Author: lifan\n * @Date: 2018-12-19 09:02:19\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-21 14:55:16\n */\nimport React, { Component, Fragment } from 'react';\nimport MediaQuery from 'react-responsive';\nimport style from './style.module.scss';\n\ninterface PixelProps {\n  x: number;\n  y: number;\n  width: number;\n  highlight?: boolean;\n  hide?: boolean;\n}\n\nclass Pixel extends Component<PixelProps> {\n\n  static defaultProps = {\n    highlight: false,\n    hide: false,\n  };\n\n  shouldComponentUpdate(nextProps: PixelProps) {\n    const { highlight, x, y, width, hide } = this.props;\n    if (nextProps.highlight !== highlight || nextProps.x !== x ||\n      nextProps.y !== y || nextProps.width !== width || nextProps.hide !== hide) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const { highlight, x, y, width, hide } = this.props;\n    const fillColor = highlight ? style.fillHighlight : style.fillDefault;\n    const strokeColor = highlight ? style.strokeHighlight : style.strokeDefault;\n    const isHide = hide ? 0 : 1;\n\n    return (\n      <Fragment>\n        <MediaQuery maxWidth={414}>\n          <g opacity={isHide}>\n            <rect\n              x={x + 1.5}\n              y={y + 1.5}\n              width={width - 3}\n              height={width - 3}\n              style={{ strokeWidth: 1.75, fillOpacity: 0 }}\n              className={strokeColor}\n            />\n            <rect\n              x={x + 3.5}\n              y={y + 3.5}\n              width={width - 7}\n              height={width - 7}\n              className={fillColor}\n            />\n          </g>\n        </MediaQuery>\n        <MediaQuery minWidth={414} maxWidth={539}>\n          <g opacity={isHide}>\n            <rect\n              x={x + 1.25}\n              y={y + 1.25}\n              width={width - 2.5}\n              height={width - 2.5}\n              style={{ strokeWidth: 1.5, fillOpacity: 0 }}\n              className={strokeColor}\n            />\n            <rect\n              x={x + 3.5}\n              y={y + 3.5}\n              width={width - 7}\n              height={width - 7}\n              className={fillColor}\n            />\n          </g>\n        </MediaQuery>\n        <MediaQuery minWidth={540}>\n          <g opacity={isHide}>\n            <rect\n              x={x + 2}\n              y={y + 2}\n              width={width - 4}\n              height={width - 4}\n              style={{ strokeWidth: 2, fillOpacity: 0 }}\n              className={strokeColor}\n            />\n            <rect\n              x={x + 5}\n              y={y + 5}\n              width={width - 10}\n              height={width - 10}\n              className={fillColor}\n            />\n          </g>\n        </MediaQuery>\n      </Fragment>\n    );\n  }\n}\n\nexport default Pixel;\n","/*\n * @Author: lifan\n * @Date: 2018-12-21 10:29:52\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-21 14:08:30\n */\nimport React, { Component } from 'react';\nimport Pixel from './Pixel';\n\ninterface MatrixProps {\n  matrix: number[][];\n  width: number;\n  hideBlankPixel?: boolean;\n}\n\nclass Matrix extends Component<MatrixProps> {\n  static defaultProps = {\n    hideBlankPixel: false\n  }\n\n  shouldComponentUpdate(nextProps: MatrixProps) {\n    const { matrix, width, hideBlankPixel } = this.props;\n    if (nextProps.matrix !== matrix || nextProps.width !== width ||\n        nextProps.hideBlankPixel !== hideBlankPixel) {\n      return true;\n    }\n    return false;\n  }\n\n  render() {\n    const { matrix, width, hideBlankPixel } = this.props;\n    const pixelWidth = width / matrix[0].length || 10;\n    const height = matrix.length * pixelWidth;\n\n    console.log('matrix rerender');\n\n    return (\n      <svg width={width} height={height}>\n        {\n          matrix.map((row, i) => (\n            row.map((b, j) => (\n              <Pixel key={`${i}_${j}`} width={pixelWidth} x={j * pixelWidth} y={i * pixelWidth} highlight={!!b} hide={hideBlankPixel && b === 0} />\n            ))\n          ))\n        }\n      </svg>\n    );\n  }\n}\n\nexport default Matrix;\n","/*\n * @Author: lifan\n * @Date: 2018-12-19 09:55:19\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-21 16:29:35\n */\n// 方块类型\nexport const BLOCK_SHAPE = {\n  'I': [\n    [1, 1, 1, 1]\n  ],\n  'L': [\n    [1, 0, 0],\n    [1, 1, 1],\n  ],\n  'J': [\n    [0, 0, 1],\n    [1, 1, 1],\n  ],\n  'Z': [\n    [1, 1, 0],\n    [0, 1, 1]\n  ],\n  'S': [\n    [0, 1, 1],\n    [1, 1, 0],\n  ],\n  'O': [\n    [1, 1],\n    [1, 1]\n  ],\n  'T': [\n    [0, 1, 0],\n    [1, 1, 1],\n  ]\n};\n\n// 速度\nexport const SPEEDS = [800, 650, 500, 370, 250, 160];\n\n// 装饰方块\nexport const BLOCK_DECORATE = [\n  [0, 1],\n  [1, 1],\n  [1, 0],\n  [0, 0],\n  [1, 0],\n  [1, 1],\n  [1, 0],\n  [0, 0],\n  [1, 1],\n  [1, 1],\n  [0, 0],\n  [0, 1],\n  [1, 1],\n  [0, 1],\n  [0, 0],\n  [1, 1],\n  [0, 1],\n  [0, 1],\n  [0, 0],\n  [1, 0],\n  [1, 0],\n  [1, 0],\n  [1, 0],\n];\n\nexport const BLOCK_DECORATE_REVERSE = BLOCK_DECORATE.reduce((arr: number[][], item) => {\n  const [f, s] = item;\n  arr.push([s, f]);\n  return arr;\n}, []);\n","/*\n * @Author: lifan\n * @Date: 2019-01-09 14:30:08\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-09 14:40:38\n */\nimport React, { Component } from 'react';\nimport intl from 'react-intl-universal';\nimport Matrix from '../Matrix';\nimport { BLOCK_DECORATE, BLOCK_DECORATE_REVERSE } from '../../constants/block';\nimport styles from './style.module.scss';\n\ninterface DecorateProps {\n\n}\n\ninterface DecorateState {\n  w: number;\n}\n\nexport default class Decorate extends Component<DecorateProps, DecorateState> {\n  private readonly $ref_Left: React.RefObject<HTMLDivElement> = React.createRef();\n  public state = {\n    w: 0,\n  }\n\n  calcWidth = () => {\n    if (this.$ref_Left.current) {\n      this.setState({\n        w: this.$ref_Left.current.clientWidth\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.calcWidth();\n    window.addEventListener('resize', this.calcWidth);\n  }\n\n  shouldComponentUpdate(nextProps: DecorateProps, nextState: DecorateState) {\n    if (nextState.w !== this.state.w) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const { w } = this.state;\n    return (\n      <div className={styles.decorate}>\n        <h1 className={styles.logo}>\n          {\n            intl.get('gameName')\n          }\n        </h1>\n        <div className={styles.left} ref={this.$ref_Left}>\n          <Matrix matrix={BLOCK_DECORATE} width={w} hideBlankPixel />\n        </div>\n        <div className={styles.right}>\n          <Matrix matrix={BLOCK_DECORATE_REVERSE} width={w} hideBlankPixel />\n        </div>\n        <div className={styles.dotWrapper}>\n          <div className={styles.dotsLeft}>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n          </div>\n          <div className={styles.dotsRight}>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n            <span className={styles.dot}></span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n","/*\n * @Author: lifan\n * @Date: 2018-12-19 21:05:34\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-09 14:54:37\n */\nimport React, { Component } from 'react';\nimport Matrix from '../Matrix';\nimport Decorate from './Decorate';\nimport style from './style.module.scss';\n\ninterface ScreenProps {\n  matrix: number[][];\n}\n\ninterface ScreenState {\n  w: number;\n}\n\nclass Screen extends Component<ScreenProps, ScreenState> {\n  private readonly $ref_Panl: React.RefObject<HTMLDivElement> = React.createRef();\n  public state = {\n    w: 0\n  }\n\n  calcWidth = () => {\n    if (this.$ref_Panl.current) {\n      this.setState({\n        w: this.$ref_Panl.current.clientWidth\n      });\n    }\n  }\n\n  componentDidMount() {\n    this.calcWidth();\n\n    window.addEventListener('resize', this.calcWidth);\n  }\n\n  shouldComponentUpdate(nextProps: ScreenProps, nextState: ScreenState) {\n    if (nextProps.matrix !== this.props.matrix || nextState.w !== this.state.w) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const { matrix } = this.props;\n    const { w } = this.state;\n\n    return (\n      <div className={style.wrapper}>\n        <Decorate />\n        <div className={style.center}>\n          <div className={style.screenWrapper}>\n            <div className={style.screen}>\n              <div className={style.mainPanel}>\n                <div ref={this.$ref_Panl}>\n                  <Matrix matrix={matrix} width={w} />\n                </div>\n              </div>\n              {/* <div className={style.statusPanel}>\n                record\n              </div> */}\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Screen;\n","/*\n * @Author: lifan\n * @Date: 2018-12-21 22:52:04\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-09 14:42:49\n */\n/* eslint-disable no-undefined */\nimport React, { Component } from 'react';\nimport cn from 'classnames';\nimport styles from './style.module.scss';\n\ninterface MyButtonProps {\n  title: string;\n  classNames: string;\n  textDirection?: 'column' | 'row';\n  active?: boolean;\n  isMobile?: boolean;\n  touchStartHandler: ((event: GameEvent) => void) | undefined;\n  touchEndtHandler: ((event: GameEvent) => void) | undefined;\n}\n\nclass Button extends Component<MyButtonProps> {\n  static defaultProps = {\n    textDirection: 'column',\n    active: false,\n    isMobile: false,\n  };\n\n  shouldComponentUpdate(nextProps: MyButtonProps) {\n    if (nextProps.active !== this.props.active || nextProps.isMobile !== this.props.isMobile) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const { classNames, title, textDirection, active, touchStartHandler, touchEndtHandler, isMobile } = this.props;\n\n    return (\n      <div className={cn(styles.myButton, classNames)} style={{ flexDirection: textDirection }}>\n        {\n          isMobile ?\n            <span\n              className={cn(styles.button, { [styles.active]: active })}\n              onTouchStart={touchStartHandler}\n              onTouchEnd={touchEndtHandler}\n            /> :\n            <span\n              className={cn(styles.button, { [styles.active]: active })}\n              onMouseDown={touchStartHandler}\n              onMouseUp={touchEndtHandler}\n            />\n        }\n        <span\n          className={styles.title}\n          style={{ textAlign: textDirection === 'row' ? 'left' : 'center' }}>\n          {title}\n        </span>\n      </div>\n    );\n  }\n}\n\nexport default Button;\n","/*\n * @Author: lifan\n * @Date: 2018-12-21 22:32:13\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-09 15:26:57\n */\nimport React, { Component } from 'react';\nimport MyButton from './MyButton';\nimport intl from 'react-intl-universal';\nimport { isMobile } from '../../utils';\nimport styles from './style.module.scss';\n\nconst keyCode = {\n  drop: 32,\n  left: 37,\n  rotate: 38,\n  right: 39,\n  down: 40,\n  pause: 80,\n  reset: 82,\n  sound: 83\n};\n\ninterface KeyboardProps {\n  keyboard: GameKeyboard;\n  keyboardHandler: (key: keyof GameKeyboard, value: boolean) => void;\n}\ninterface KeyboardState {\n  isMobile: boolean;\n}\n\nclass Keyboard extends Component<KeyboardProps> {\n  private readonly $ref_keyboard: React.RefObject<HTMLDivElement> = React.createRef();\n  state = {\n    isMobile: isMobile()\n  }\n\n  calcWrapperPosition = () => {\n    const dom = this.$ref_keyboard.current;\n\n    if (dom) {\n      const top = dom.getBoundingClientRect().top;\n      const winHeight = document.documentElement && document.documentElement.clientHeight;\n      dom.style.minHeight = winHeight ? `${winHeight - top}px` : '10px';\n    }\n\n    this.setState({\n      isMobile: isMobile()\n    });\n\n    console.log(isMobile());\n  }\n\n  keyboardHandler(key: keyof GameKeyboard, value: boolean) {\n    this.props.keyboardHandler(key, value);\n  }\n\n  registerPressEventHandler() {\n    let lastKey: null | string = null;\n\n    window.addEventListener('keydown', (event) => {\n      let opera = null;\n\n      switch (event.keyCode) {\n        case keyCode.down: opera = 'down'; break;\n        case keyCode.left: opera = 'left'; break;\n        case keyCode.right: opera = 'right'; break;\n        case keyCode.rotate: opera = 'rotate'; break;\n        case keyCode.drop: opera = 'drop'; break;\n        case keyCode.sound: opera = 'sound'; break;\n        case keyCode.reset: opera = 'reset'; break;\n        case keyCode.pause: opera = 'pause'; break;\n        default: opera = null;\n      }\n\n      if (lastKey !== opera) {\n        opera && this.keyboardHandler(opera, true);\n        lastKey = opera;\n      }\n    }, true);\n\n    window.addEventListener('keyup', (event) => {\n      let opera = null;\n\n      switch (event.keyCode) {\n        case keyCode.down: opera = 'down'; break;\n        case keyCode.left: opera = 'left'; break;\n        case keyCode.right: opera = 'right'; break;\n        case keyCode.rotate: opera = 'rotate'; break;\n        case keyCode.drop: opera = 'drop'; break;\n        case keyCode.sound: opera = 'sound'; break;\n        case keyCode.reset: opera = 'reset'; break;\n        case keyCode.pause: opera = 'pause'; break;\n        default: opera = null;\n      }\n\n      opera && this.keyboardHandler(opera, false);\n      lastKey = null;\n    }, true);\n  }\n\n  touchStartHandler = (event: GameEvent, key: keyof GameKeyboard) => {\n    this.keyboardHandler(key, true);\n  }\n\n  touchEndtHandler = (event: GameEvent, key: keyof GameKeyboard) => {\n    this.keyboardHandler(key, false);\n  }\n\n  componentDidMount() {\n    setTimeout(() => {\n      this.calcWrapperPosition();\n      this.registerPressEventHandler();\n    }, 20);\n\n    window.addEventListener('resize', this.calcWrapperPosition);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('resize', this.calcWrapperPosition);\n  }\n\n  shouldComponentUpdate(nextProps: KeyboardProps, nextState: KeyboardState) {\n    const keyboard = this.props.keyboard;\n    const nKeyboard = nextProps.keyboard;\n\n    if (keyboard.down !== nKeyboard.down || keyboard.drop !== nKeyboard.drop ||\n        keyboard.left !== nKeyboard.left || keyboard.pause !== nKeyboard.pause ||\n        keyboard.reset !== nKeyboard.reset || keyboard.right !== nKeyboard.right ||\n        keyboard.rotate !== nKeyboard.rotate || keyboard.sound !== nKeyboard.sound ||\n        nextState.isMobile !== this.state.isMobile) {\n      return true;\n    }\n\n    return false;\n  }\n\n  render() {\n    const { keyboard } = this.props;\n\n    return (\n      <div className={styles.keyboard} ref={this.$ref_keyboard}>\n        <div className={styles.content}>\n          {\n            Object.keys(keyboard).map(key => (\n              <MyButton\n                key={key}\n                title={intl.get(`key.${key}`)}\n                classNames={styles[`key${key.toLowerCase().replace(/( |^)[a-z]/g, (L) => L.toUpperCase())}`]}\n                active={keyboard[key]}\n                textDirection={key === 'rotate' ? 'row' : 'column'}\n                touchEndtHandler={(event) => this.touchEndtHandler(event, key)}\n                touchStartHandler={(event) => this.touchStartHandler(event, key)}\n                isMobile={this.state.isMobile}\n              />\n            ))\n          }\n          <div className={styles.keyDecorate}>\n            <span className={styles.keyDecorateItem}></span>\n            <div className={styles.keyDecorateCenter}>\n              <span className={styles.keyDecorateItem} style={{ transform: 'rotate(270deg)' }}></span>\n              <span className={styles.keyDecorateItem} style={{ transform: 'rotate(90deg)' }}></span>\n            </div>\n            <span className={styles.keyDecorateItem} style={{ transform: 'rotate(180deg)' }}></span>\n          </div>\n        </div>\n      </div>\n    );\n  }\n}\n\nexport default Keyboard;\n","/*\n * @Author: lifan\n * @Date: 2018-12-21 10:13:15\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-09 14:43:47\n */\nimport React, { PureComponent } from 'react';\nimport { Dispatch } from 'redux';\nimport { State } from '../store/reducers';\nimport { connect } from 'react-redux';\nimport ReactLoading from 'react-loading';\nimport intl from 'react-intl-universal';\nimport { LOCALES } from '../locales';\nimport * as action from '../store/actions';\nimport { getUrlParam } from '../utils';\nimport Screen from '../components/Screen';\nimport Keyboard from '../components/Keyboard';\n\nimport style from './style.module.scss';\n\ninterface AppProps {\n  locales: GameLocales;\n  matrix: number[][];\n  keyboard: GameKeyboard;\n  updateLocales: (locales: GameLocales) => void;\n  updateMatrix: (matrix: number[][]) => void;\n  dispatch: Dispatch;\n}\n\ninterface AppState {\n  initLocales: boolean;\n}\n\nclass App extends PureComponent<AppProps, AppState> {\n  public state = {\n    initLocales: false\n  };\n\n  private async loadLocales(str: GameLocales) {\n    try {\n      await intl.init({\n        currentLocale: str,\n        locales: LOCALES,\n      });\n    } finally {\n      if (process.env.NODE_ENV === 'development') {\n        this.setState({\n          initLocales: true\n        });\n      } else {\n        setTimeout(() => {\n          this.setState({\n            initLocales: true\n          });\n        }, 2000);\n      }\n    }\n  }\n\n  private initLocales(locales: GameLocales) {\n    const lang = getUrlParam('lang') as GameLocales;\n\n    if (lang && LOCALES.hasOwnProperty(lang)) {\n      this.props.updateLocales(lang);\n      this.loadLocales(lang);\n    } else {\n      this.loadLocales(locales);\n    }\n  }\n\n  private switchLocales = (locales: GameLocales) => {\n    this.props.updateLocales(locales);\n    setTimeout(() => {\n      window.location.href = `${window.location.origin}${window.location.pathname}?lang=${locales}`;\n    }, 20);\n  }\n\n  keyboardHandler = (key: keyof GameKeyboard, value: boolean) => {\n    let a = null;\n\n    switch (key) {\n      case 'down': a = action.keyDown; break;\n      case 'left': a = action.keyLeft; break;\n      case 'right': a = action.keyRight; break;\n      case 'rotate': a = action.keyRotate; break;\n      case 'drop': a = action.keyDrop; break;\n      case 'reset': a = action.keyReset; break;\n      case 'sound': a = action.keySound; break;\n      case 'pause': a = action.keyPause; break;\n    }\n\n    a && this.props.dispatch(a(value));\n  }\n\n  componentDidMount() {\n    this.initLocales(this.props.locales);\n    // setInterval(() => {\n    //   const newArr = this.props.matrix.map(item => {\n    //     return item.map(() => Math.round(Math.random()));\n    //   });\n    //   this.props.updateMatrix(newArr);\n    // }, 800);\n  }\n\n  render() {\n    const { initLocales } = this.state;\n    const { matrix, keyboard } = this.props;\n\n    if (!initLocales) {\n      return <ReactLoading type={'spinningBubbles'} className={style.loading} />;\n    }\n\n    return (\n      <div className={style.app}>\n        <Screen matrix={matrix} />\n        <Keyboard keyboard={keyboard} keyboardHandler={this.keyboardHandler} />\n      </div>\n    );\n  }\n}\n\nconst mapState = (state: State) => ({\n  locales: state.locales,\n  matrix: state.matrix,\n  window_width: state.window_width,\n  keyboard: state.keybord\n});\n\nconst mapDispatch = (dispatch: Dispatch) => ({\n  updateLocales: (locales: GameLocales) => dispatch(action.updateLocales(locales)),\n  updateWindowWidth: (num: number) => dispatch(action.windowResize(num)),\n  updateMatrix: (matrix: number[][]) => dispatch(action.updateMatrix(matrix)),\n  dispatch\n});\n\nexport default connect(\n  mapState,\n  mapDispatch\n)(App);\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read http://bit.ly/CRA-PWA\n\n/* eslint-disable */\nlet isFirst = false;\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\ntype Config = {\n  onSuccess?: (registration: ServiceWorkerRegistration) => void;\n  onUpdate?: (registration: ServiceWorkerRegistration) => void;\n};\n\nexport function register(config?: Config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(\n      (process as { env: { [key: string]: string } }).env.PUBLIC_URL,\n      window.location.href\n    );\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit http://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl: string, config?: Config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      if (registration.waiting) {\n        if (config && config.onUpdate) {\n          config.onUpdate(registration);\n        }\n        return;\n      }\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See http://bit.ly/CRA-PWA.'\n              );\n\n              isFirst = false;\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n              isFirst = true;\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n\n  navigator.serviceWorker.addEventListener('controllerchange', () => {\n    console.log('controllerchange');\n    if (!isFirst) {\n      window.location.reload();\n      isFirst = true;\n    }\n  });\n}\n\nfunction checkValidServiceWorker(swUrl: string, config?: Config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","/*\n * @Author: lifan\n * @Date: 2018-12-20 15:36:36\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-21 11:19:55\n */\nimport Types from '../types';\nimport { Action } from '../actions';\n\nconst initState = new Array(20).fill(0).map(() => new Array(10).fill(0));\n\nexport default (state: number[][] = initState, action: Action) => {\n  switch (action.type) {\n    case Types.UPDATE_MATRIX:\n      return action.payload.matrix;\n    default: return state;\n  }\n};\n","/*\n * @Author: lifan\n * @Date: 2019-01-08 13:11:38\n * @Last Modified by: lifan\n * @Last Modified time: 2019-01-08 14:11:42\n */\nimport { Action } from '../actions';\nimport types from '../types';\n\nconst initState = {\n  pause: false,\n  sound: false,\n  reset: false,\n  drop: false,\n  rotate: false,\n  left: false,\n  right: false,\n  down: false\n};\n\nexport default (state: GameKeyboard = initState, action: Action) => {\n  switch (action.type) {\n    case types.KEY_DOWN:\n      return {\n        ...state,\n        down: action.payload\n      };\n    case types.KEY_LEFT:\n      return {\n        ...state,\n        left: action.payload\n      };\n    case types.KEY_RIGHT:\n      return {\n        ...state,\n        right: action.payload\n      };\n    case types.KEY_ROTATE:\n      return {\n        ...state,\n        rotate: action.payload\n      };\n    case types.KEY_DROP:\n      return {\n        ...state,\n        drop: action.payload\n      };\n    case types.KEY_RESET:\n      return {\n        ...state,\n        reset: action.payload\n      };\n    case types.KEY_SOUND:\n      return {\n        ...state,\n        sound: action.payload\n      };\n    case types.KEY_PAUSE:\n      return {\n        ...state,\n        pause: action.payload\n      };\n\n    default: return state;\n  }\n};\n","import { combineReducers } from 'redux';\nimport locales from './locales';\nimport matrix from './matrix';\nimport window_width from './windowWidth';\nimport keybord from './keybord';\n\n\nexport interface State {\n  locales: GameLocales;\n  matrix: number[][];\n  window_width: number;\n  keybord: GameKeyboard;\n}\n\nexport default combineReducers<State>({\n  locales,\n  matrix,\n  window_width,\n  keybord\n});\n","/*\n * @Author: lifan\n * @Date: 2018-12-13 13:56:58\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-14 10:21:38\n */\n\nimport Types from '../types';\nimport { Action } from '../actions';\n\nexport default (state: GameLocales = 'en-US', action: Action) => {\n  switch (action.type) {\n    case Types.UPDATE_LOCALES:\n      return action.payload.locales;\n    default: return state;\n  }\n};\n","/*\n * @Author: lifan\n * @Date: 2018-12-13 13:56:58\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-21 12:16:34\n */\n\nimport Types from '../types';\nimport { Action } from '../actions';\n\nexport default (state = 0, action: Action) => {\n  switch (action.type) {\n    case Types.WINDOW_RESIZE:\n      return action.payload.width;\n    default: return state;\n  }\n};\n","import { call, put, takeEvery, fork, delay } from 'redux-saga/effects';\nimport Types from '../types';\nimport { Action } from '../actions';\n\nexport function* incrementAsync() {\n  yield delay(1000);\n  yield put({\n    type: Types.ADD_COUNT,\n    payload: {\n      num: 1,\n    }\n  });\n}\n\n// 模拟数据异步获取\nfunction fn() {\n  return new Promise((resolve, reject) => {\n    setTimeout(() => {\n      resolve('hello saga');\n    }, 2000);\n  });\n}\n\nfunction* fetchData() {\n  // 等待 2 秒后，打印欢迎语（阻塞）\n  const greeting = yield call(fn);\n  console.log('greeting: ', greeting);\n\n  // 立即打印 task 对象（非阻塞）\n  const task = yield fork(fn);\n  console.log('task: ', task);\n}\n\n// function* watcher() {\n//   while (true) {\n//     yield delay(1000);\n//     console.log(1000);\n//     yield fork(fetchData);\n//   }\n// }\n\nexport function* watchIncrementAsync() {\n  yield takeEvery(Types.ADD_COUNT_ASYNC, incrementAsync);\n}\n\nexport function* demo1(action: Action) {\n  yield delay(1000);\n  console.log(action);\n}\n\nexport function* demo() {\n  yield takeEvery(Types.KEY_DOWN, demo1);\n}\n\n// single entry point to start all Sagas at once\nexport default function* rootSaga() {\n  yield fork(fetchData);\n  yield fork(watchIncrementAsync);\n  yield fork(demo);\n}\n","/*\n * @Author: lifan\n * @Date: 2018-12-12 09:46:29\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-20 15:34:50\n */\nimport { createStore, compose, applyMiddleware, Store } from 'redux';\nimport createSagaMiddleware from 'redux-saga';\nimport { persistReducer, persistStore, PersistConfig } from 'redux-persist';\nimport storage from 'redux-persist/lib/storage';\nimport rootReducer from './reducers';\nimport rootSaga from './sagas';\n\n\nconst composeEnhancers = (window as any).__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\n// const migrations = {\n//   0: (state: State) => {\n//     // migration clear out device state\n//     return state;\n//   },\n//   1: (state: State) => {\n//     // migration to keep only device state\n//     return state;\n//   }\n// };\nconst persistConfig: PersistConfig = {\n  key: 'root',\n  storage,\n  version: 1,\n  // migrate: createMigrate(migrations, { debug: true })\n};\nconst persistedReducer = persistReducer(persistConfig, rootReducer);\nconst sagaMiddleware  = createSagaMiddleware();\n\nexport default () => {\n  let store: Store = createStore(\n    persistedReducer,\n    composeEnhancers(\n      applyMiddleware(\n        sagaMiddleware,\n      )\n    )\n  );\n\n  const persistor = persistStore(store);\n  // persistor.pause();\n\n  sagaMiddleware.run(rootSaga);\n\n  return {\n    store,\n    persistor\n  };\n};\n","/*\n * @Author: lifan\n * @Date: 2018-12-09 21:11:01\n * @Last Modified by: lifan\n * @Last Modified time: 2018-12-19 14:16:49\n */\nimport '@babel/polyfill';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport { PersistGate } from 'redux-persist/integration/react';\nimport App from './containers';\nimport * as serviceWorker from './utils/serviceWorker';\nimport configureStore from './store';\n\nimport 'normalize.css';\nimport './assets/scss/index.scss';\n\nconst configStore = configureStore();\n\nReactDOM.render(\n  <Provider store={configStore.store}>\n    <PersistGate persistor={configStore.persistor}>\n      <App />\n    </PersistGate>\n  </Provider>,\n  document.getElementById('root')\n);\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: http://bit.ly/CRA-PWA\nserviceWorker.register({\n  onUpdate: (registration: ServiceWorkerRegistration) => {\n    if (confirm('监测到更新，点击更新')) {\n      try {\n        registration.waiting && registration.waiting.postMessage('skipWaiting');\n      } catch (e) {\n        window.location.reload();\n      }\n    }\n  },\n  onSuccess: () => {\n    console.log('success');\n  }\n});\n","// extracted by mini-css-extract-plugin\nmodule.exports = {\"fillDefault\":\"style_fillDefault__1pQxl\",\"fillHighlight\":\"style_fillHighlight__D49Sd\",\"strokeDefault\":\"style_strokeDefault__ewG_6\",\"strokeHighlight\":\"style_strokeHighlight__3jfwR\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"style_wrapper__1loAu\",\"decorate\":\"style_decorate__1ihTl\",\"logo\":\"style_logo__159S0\",\"left\":\"style_left__25G5-\",\"right\":\"style_right__JQG2O\",\"dotWrapper\":\"style_dotWrapper__3cw8u\",\"dotsLeft\":\"style_dotsLeft__3cDaX\",\"dotsRight\":\"style_dotsRight__3lOKU\",\"dot\":\"style_dot__26zAZ\",\"center\":\"style_center__3XnYs\",\"screenWrapper\":\"style_screenWrapper__3rz-4\",\"screen\":\"style_screen__2LiPk\",\"mainPanel\":\"style_mainPanel__23LKN\",\"statusPanel\":\"style_statusPanel__1IVQj\"};"],"sourceRoot":""}